{
  "abi": [
    {
      "inputs": [
        {
          "internalType": "contract IAccessControl",
          "name": "accessControl",
          "type": "address"
        },
        {
          "internalType": "contract NodeOwner",
          "name": "nodeOwner",
          "type": "address"
        },
        {
          "internalType": "contract IERC677",
          "name": "rif",
          "type": "address"
        },
        {
          "internalType": "contract IPartnerManager",
          "name": "_partnerManager",
          "type": "address"
        },
        {
          "internalType": "contract RNS",
          "name": "rns",
          "type": "address"
        },
        {
          "internalType": "bytes32",
          "name": "rootNode",
          "type": "bytes32"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "sender",
          "type": "address"
        }
      ],
      "name": "OnlyHighLevelOperator",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address",
          "name": "hostContract",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "feeManagerContract",
          "type": "address"
        }
      ],
      "name": "FeeManagerChanged",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "partner",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "duration",
          "type": "uint256"
        }
      ],
      "name": "NameRegistered",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "commitment",
          "type": "bytes32"
        }
      ],
      "name": "canReveal",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "commitment",
          "type": "bytes32"
        },
        {
          "internalType": "address",
          "name": "partner",
          "type": "address"
        }
      ],
      "name": "commit",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "label",
          "type": "bytes32"
        },
        {
          "internalType": "address",
          "name": "nameOwner",
          "type": "address"
        },
        {
          "internalType": "bytes32",
          "name": "secret",
          "type": "bytes32"
        },
        {
          "internalType": "uint256",
          "name": "duration",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "addr",
          "type": "address"
        }
      ],
      "name": "makeCommitment",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "pure",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "partnerManager",
      "outputs": [
        {
          "internalType": "contract IPartnerManager",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "name",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "expires",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "duration",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "partner",
          "type": "address"
        }
      ],
      "name": "price",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "name",
          "type": "string"
        },
        {
          "internalType": "address",
          "name": "nameOwner",
          "type": "address"
        },
        {
          "internalType": "bytes32",
          "name": "secret",
          "type": "bytes32"
        },
        {
          "internalType": "uint256",
          "name": "duration",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "addr",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "partner",
          "type": "address"
        }
      ],
      "name": "register",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "contract IFeeManager",
          "name": "feeManager",
          "type": "address"
        }
      ],
      "name": "setFeeManager",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "from",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "value",
          "type": "uint256"
        },
        {
          "internalType": "bytes",
          "name": "data",
          "type": "bytes"
        }
      ],
      "name": "tokenFallback",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x60806040523480156200001157600080fd5b5060405162001cd538038062001cd58339810160408190526200003491620000b4565b600080546001600160a01b03199081166001600160a01b03988916179091556002805482169688169690961790955560038054861694871694909417909355600480548516928616929092179091556006805490931693169290921790556007556200013c565b6001600160a01b0381168114620000b157600080fd5b50565b60008060008060008060c08789031215620000ce57600080fd5b8651620000db816200009b565b6020880151909650620000ee816200009b565b604088015190955062000101816200009b565b606088015190945062000114816200009b565b608088015190935062000127816200009b565b8092505060a087015190509295509295509295565b611b89806200014c6000396000f3fe608060405234801561001057600080fd5b50600436106100885760003560e01c8063c0ee0b8a1161005b578063c0ee0b8a14610106578063e0dfa3c814610129578063ed18658214610191578063ed80c1a7146101a457600080fd5b8063472d35b91461008d5780635a746101146100a257806389fce619146100b5578063a1f45183146100db575b600080fd5b6100a061009b366004611746565b6101b7565b005b6100a06100b0366004611763565b610351565b6100c86100c33660046117dc565b6104f1565b6040519081526020015b60405180910390f35b6004546100ee906001600160a01b031681565b6040516001600160a01b0390911681526020016100d2565b610119610114366004611847565b610597565b60405190151581526020016100d2565b6100c86101373660046118a3565b604080516020808201979097526bffffffffffffffffffffffff19606096871b81168284015260548201959095526074810193909352931b90911660948201528151808203608801815260a8909101909152805191012090565b61011961019f3660046118eb565b6108fa565b6100a06101b2366004611904565b61091f565b6000546040517f5a4c17ce0000000000000000000000000000000000000000000000000000000081523360048201526001600160a01b0390911690635a4c17ce90602401602060405180830381865afa158015610218573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061023c9190611994565b610279576040517ffb25bb600000000000000000000000000000000000000000000000000000000081523360048201526024015b60405180910390fd5b6005546001600160a01b038083169116036102d65760405162461bcd60e51b815260206004820152601e60248201527f6f6c642076616c75652069732073616d65206173206e65772076616c756500006044820152606401610270565b604080513081526001600160a01b03831660208201527facbd074db1a997c1632eb3d55a4c9813e0883267f14740568d0535dc23077ce4910160405180910390a1600580547fffffffffffffffffffffffff0000000000000000000000000000000000000000166001600160a01b0392909216919091179055565b600061035c82610b3f565b9050806001600160a01b031663172152506040518163ffffffff1660e01b8152600401602060405180830381865afa15801561039c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103c091906119b6565b60000361040f5760405162461bcd60e51b815260206004820152601760248201527f436f6d6d69746d656e74206e6f742072657175697265640000000000000000006044820152606401610270565b6000838152600160208190526040909120541061046e5760405162461bcd60e51b815260206004820152601360248201527f4578697374656e7420636f6d6d69746d656e74000000000000000000000000006044820152606401610270565b806001600160a01b031663172152506040518163ffffffff1660e01b8152600401602060405180830381865afa1580156104ac573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104d091906119b6565b6104da90426119fe565b600093845260016020526040909320929092555050565b6000806104fd83610b3f565b6040517fb7fc1b940000000000000000000000000000000000000000000000000000000081529091506001600160a01b0382169063b7fc1b949061054b908a908a908a908a90600401611a11565b602060405180830381865afa158015610568573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061058c91906119b6565b979650505050505050565b6003546000906001600160a01b031633146105f45760405162461bcd60e51b815260206004820152600e60248201527f4f6e6c792052494620746f6b656e0000000000000000000000000000000000006044820152606401610270565b608082116106445760405162461bcd60e51b815260206004820152600c60248201527f496e76616c6964206461746100000000000000000000000000000000000000006044820152606401610270565b600061068a600085858080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509293925050610c8e9050565b90507fffffffff0000000000000000000000000000000000000000000000000000000081167f646c3681000000000000000000000000000000000000000000000000000000001461071d5760405162461bcd60e51b815260206004820152601160248201527f496e76616c6964207369676e61747572650000000000000000000000000000006044820152606401610270565b6000610763600486868080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509293925050610ce99050565b905060006107ab601887878080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509293925050610d479050565b905060006107f3603888888080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509293925050610d599050565b9050600061083b605889898080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509293925050610ce99050565b90506000610883606c8a8a8080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509293925050610ce99050565b905060006108d66080610896818c611a51565b8c8c8080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250929493925050610d659050565b90506108e88c8c8388888b8989610e24565b5060019b9a5050505050505050505050565b60008181526001602052604081205480158015906109185750428111155b9392505050565b60048054604051632303e6ab60e21b81526001600160a01b0380851693820193909352839290911690638c0f9aac90602401602060405180830381865afa15801561096e573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906109929190611994565b6109de5760405162461bcd60e51b815260206004820181905260248201527f506172746e6572205265676973747261723a204e6f74206120706172746e65726044820152606401610270565b60405184815233907fa16a86dce192b28e0a25d7c2075a482a185ca559c6bf11f5d9329a888e74567a9060200160405180910390a26000610a5b89898080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152508b92508a91508990508888610fd5565b90508015610b34576003546040516323b872dd60e01b8152336004820152306024820152604481018390526001600160a01b03909116906323b872dd906064016020604051808303816000875af1158015610aba573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610ade9190611994565b610b2a5760405162461bcd60e51b815260206004820152601560248201527f546f6b656e207472616e73666572206661696c656400000000000000000000006044820152606401610270565b610b348382611575565b505050505050505050565b60048054604051632303e6ab60e21b81526001600160a01b038481169382019390935260009290911690638c0f9aac90602401602060405180830381865afa158015610b8f573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610bb39190611994565b610bff5760405162461bcd60e51b815260206004820152600d60248201527f4e6f74206120706172746e6572000000000000000000000000000000000000006044820152606401610270565b600480546040517f14049bd90000000000000000000000000000000000000000000000000000000081526001600160a01b03858116938201939093529116906314049bd990602401602060405180830381865afa158015610c64573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610c889190611a64565b92915050565b8151600090826004610ca081836119fe565b831015610cdd5760405162461bcd60e51b815260206004820152600b60248201526a14da1bdc9d081a5b9c1d5d60aa1b6044820152606401610270565b50505050016020015190565b8151600090826014610cfb81836119fe565b831015610d385760405162461bcd60e51b815260206004820152600b60248201526a14da1bdc9d081a5b9c1d5d60aa1b6044820152606401610270565b50505050016020015160601c90565b8151600090826020610ca081836119fe565b60006109188383610d47565b82516060908383610d7681836119fe565b831015610db35760405162461bcd60e51b815260206004820152600b60248201526a14da1bdc9d081a5b9c1d5d60aa1b6044820152606401610270565b606085158015610dce57604051915060208201604052610e18565b6040519150601f87168015602002818401018881018a8315602002848e0101015b81831015610e07578051835260209283019201610def565b5050888452601f01601f1916604052505b50979650505050505050565b876001600160a01b03167fa16a86dce192b28e0a25d7c2075a482a185ca559c6bf11f5d9329a888e74567a85604051610e5f91815260200190565b60405180910390a26000610e77878588888787610fd5565b90508015610b345780881015610ecf5760405162461bcd60e51b815260206004820152601f60248201527f496e73756666696369656e7420746f6b656e73207472616e73666572726564006044820152606401610270565b610ed98282611575565b6000610ee5828a611a51565b90508015610fc9576003546040517fa9059cbb0000000000000000000000000000000000000000000000000000000081526001600160a01b038c81166004830152602482018490529091169063a9059cbb906044016020604051808303816000875af1158015610f59573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610f7d9190611994565b610fc95760405162461bcd60e51b815260206004820152601560248201527f546f6b656e207472616e73666572206661696c656400000000000000000000006044820152606401610270565b50505050505050505050565b600080610fe183610b3f565b6040517fbe47152e0000000000000000000000000000000000000000000000000000000081529091506001600160a01b0382169063be47152e9061102b908b908990600401611ad1565b60006040518083038186803b15801561104357600080fd5b505afa158015611057573d6000803e3d6000fd5b5050505060008860405160200161106e9190611af3565b604051602081830303815290604052805190602001209050816001600160a01b031663172152506040518163ffffffff1660e01b8152600401602060405180830381865afa1580156110c4573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906110e891906119b6565b156111a5576040805160208082018490526bffffffffffffffffffffffff1960608c811b821684860152605484018c9052607484018b905289901b1660948301528251808303608801815260a89092019092528051910120611149816108fa565b6111955760405162461bcd60e51b815260206004820152601360248201527f4e6f20636f6d6d69746d656e7420666f756e64000000000000000000000000006044820152606401610270565b6000908152600160205260408120555b6002546001600160a01b031663a5b0d68c82306111c68a6301e13380611b0f565b6040517fffffffff0000000000000000000000000000000000000000000000000000000060e086901b16815260048101939093526001600160a01b0390911660248301526044820152606401600060405180830381600087803b15801561122c57600080fd5b505af1158015611240573d6000803e3d6000fd5b50506006546007546040517f0178b8bf0000000000000000000000000000000000000000000000000000000081526001600160a01b039092169350630178b8bf92506112929160040190815260200190565b602060405180830381865afa1580156112af573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906112d39190611a64565b6001600160a01b031663d5fa2b00600754836040516020016112ff929190918252602082015260400190565b60408051601f198184030181529082905280516020909101207fffffffff0000000000000000000000000000000000000000000000000000000060e084901b16825260048201526001600160a01b0388166024820152604401600060405180830381600087803b15801561137257600080fd5b505af1158015611386573d6000803e3d6000fd5b50506002546040517f28ed4f6c000000000000000000000000000000000000000000000000000000008152600481018590526001600160a01b038c8116602483015285945090911691506328ed4f6c90604401600060405180830381600087803b1580156113f357600080fd5b505af1158015611407573d6000803e3d6000fd5b50506002546040516323b872dd60e01b81523060048201526001600160a01b038d811660248301526044820186905290911692506323b872dd9150606401600060405180830381600087803b15801561145f57600080fd5b505af1158015611473573d6000803e3d6000fd5b50506002546040517f7409e4a2000000000000000000000000000000000000000000000000000000008152600481018690526001600160a01b03878116945063b7fc1b9493508e921690637409e4a290602401602060405180830381865afa1580156114e3573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061150791906119b6565b8a6040518463ffffffff1660e01b815260040161152693929190611b2e565b602060405180830381865afa158015611543573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061156791906119b6565b9a9950505050505050505050565b6005546001600160a01b03166115cd5760405162461bcd60e51b815260206004820152601360248201527f466565204d616e61676572206e6f7420736574000000000000000000000000006044820152606401610270565b6003546005546040517f095ea7b30000000000000000000000000000000000000000000000000000000081526001600160a01b0391821660048201526024810184905291169063095ea7b3906044016020604051808303816000875af115801561163b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061165f9190611994565b6116ab5760405162461bcd60e51b815260206004820152601560248201527f546f6b656e20617070726f76616c206661696c656400000000000000000000006044820152606401610270565b6005546040517f47e7ef240000000000000000000000000000000000000000000000000000000081526001600160a01b03848116600483015260248201849052909116906347e7ef2490604401600060405180830381600087803b15801561171257600080fd5b505af1158015611726573d6000803e3d6000fd5b505050505050565b6001600160a01b038116811461174357600080fd5b50565b60006020828403121561175857600080fd5b81356109188161172e565b6000806040838503121561177657600080fd5b8235915060208301356117888161172e565b809150509250929050565b60008083601f8401126117a557600080fd5b50813567ffffffffffffffff8111156117bd57600080fd5b6020830191508360208285010111156117d557600080fd5b9250929050565b6000806000806000608086880312156117f457600080fd5b853567ffffffffffffffff81111561180b57600080fd5b61181788828901611793565b909650945050602086013592506040860135915060608601356118398161172e565b809150509295509295909350565b6000806000806060858703121561185d57600080fd5b84356118688161172e565b935060208501359250604085013567ffffffffffffffff81111561188b57600080fd5b61189787828801611793565b95989497509550505050565b600080600080600060a086880312156118bb57600080fd5b8535945060208601356118cd8161172e565b9350604086013592506060860135915060808601356118398161172e565b6000602082840312156118fd57600080fd5b5035919050565b600080600080600080600060c0888a03121561191f57600080fd5b873567ffffffffffffffff81111561193657600080fd5b6119428a828b01611793565b90985096505060208801356119568161172e565b9450604088013593506060880135925060808801356119748161172e565b915060a08801356119848161172e565b8091505092959891949750929550565b6000602082840312156119a657600080fd5b8151801515811461091857600080fd5b6000602082840312156119c857600080fd5b5051919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b80820180821115610c8857610c886119cf565b606081528360608201528385608083013760006080858301015260006080601f19601f870116830101905083602083015282604083015295945050505050565b81810381811115610c8857610c886119cf565b600060208284031215611a7657600080fd5b81516109188161172e565b60005b83811015611a9c578181015183820152602001611a84565b50506000910152565b60008151808452611abd816020860160208601611a81565b601f01601f19169290920160200192915050565b604081526000611ae46040830185611aa5565b90508260208301529392505050565b60008251611b05818460208701611a81565b9190910192915050565b6000816000190483118215151615611b2957611b296119cf565b500290565b606081526000611b416060830186611aa5565b6020830194909452506040015291905056fea26469706673582212208b3389a7f16e9a990d1d29fe8aaebf772d875520ba13e3febb52195d8a7723fd64736f6c63430008100033"
}
