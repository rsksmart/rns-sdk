{
  "abi": [
    {
      "inputs": [
        {
          "internalType": "contract IAccessControl",
          "name": "accessControl",
          "type": "address"
        },
        {
          "internalType": "contract NodeOwner",
          "name": "nodeOwner",
          "type": "address"
        },
        {
          "internalType": "contract IERC677",
          "name": "rif",
          "type": "address"
        },
        {
          "internalType": "contract IPartnerManager",
          "name": "partnerManager",
          "type": "address"
        },
        {
          "internalType": "contract RNS",
          "name": "rns",
          "type": "address"
        },
        {
          "internalType": "bytes32",
          "name": "rootNode",
          "type": "bytes32"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "sender",
          "type": "address"
        }
      ],
      "name": "OnlyHighLevelOperator",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address",
          "name": "hostContract",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "feeManagerContract",
          "type": "address"
        }
      ],
      "name": "FeeManagerChanged",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "partner",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "duration",
          "type": "uint256"
        }
      ],
      "name": "NameRegistered",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "_partnerManager",
      "outputs": [
        {
          "internalType": "contract IPartnerManager",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "commitment",
          "type": "bytes32"
        }
      ],
      "name": "canReveal",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "commitment",
          "type": "bytes32"
        },
        {
          "internalType": "address",
          "name": "partner",
          "type": "address"
        }
      ],
      "name": "commit",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "label",
          "type": "bytes32"
        },
        {
          "internalType": "address",
          "name": "nameOwner",
          "type": "address"
        },
        {
          "internalType": "bytes32",
          "name": "secret",
          "type": "bytes32"
        },
        {
          "internalType": "uint256",
          "name": "duration",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "addr",
          "type": "address"
        }
      ],
      "name": "makeCommitment",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "pure",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "name",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "expires",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "duration",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "partner",
          "type": "address"
        }
      ],
      "name": "price",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "name",
          "type": "string"
        },
        {
          "internalType": "address",
          "name": "nameOwner",
          "type": "address"
        },
        {
          "internalType": "bytes32",
          "name": "secret",
          "type": "bytes32"
        },
        {
          "internalType": "uint256",
          "name": "duration",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "addr",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "partner",
          "type": "address"
        }
      ],
      "name": "register",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "contract IFeeManager",
          "name": "feeManager",
          "type": "address"
        }
      ],
      "name": "setFeeManager",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "from",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "value",
          "type": "uint256"
        },
        {
          "internalType": "bytes",
          "name": "data",
          "type": "bytes"
        }
      ],
      "name": "tokenFallback",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x60806040523480156200001157600080fd5b5060405162001cfb38038062001cfb8339810160408190526200003491620000b4565b600080546001600160a01b03199081166001600160a01b03988916179091556002805482169688169690961790955560038054861694871694909417909355600480548516928616929092179091556006805490931693169290921790556007556200013c565b6001600160a01b0381168114620000b157600080fd5b50565b60008060008060008060c08789031215620000ce57600080fd5b8651620000db816200009b565b6020880151909650620000ee816200009b565b604088015190955062000101816200009b565b606088015190945062000114816200009b565b608088015190935062000127816200009b565b8092505060a087015190509295509295509295565b611baf806200014c6000396000f3fe608060405234801561001057600080fd5b50600436106100885760003560e01c8063c0ee0b8a1161005b578063c0ee0b8a14610106578063e0dfa3c814610129578063ed18658214610191578063ed80c1a7146101a457600080fd5b8063472d35b91461008d5780635a746101146100a2578063631a86f9146100b557806389fce619146100e5575b600080fd5b6100a061009b36600461176c565b6101b7565b005b6100a06100b0366004611789565b610377565b6004546100c8906001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b6100f86100f3366004611802565b610517565b6040519081526020016100dc565b61011961011436600461186d565b6105bd565b60405190151581526020016100dc565b6100f86101373660046118c9565b604080516020808201979097526bffffffffffffffffffffffff19606096871b81168284015260548201959095526074810193909352931b90911660948201528151808203608801815260a8909101909152805191012090565b61011961019f366004611911565b610920565b6100a06101b236600461192a565b610945565b6000546040517f5a4c17ce0000000000000000000000000000000000000000000000000000000081523360048201526001600160a01b0390911690635a4c17ce90602401602060405180830381865afa158015610218573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061023c91906119ba565b610279576040517ffb25bb600000000000000000000000000000000000000000000000000000000081523360048201526024015b60405180910390fd5b6005546001600160a01b038083169116036102fc5760405162461bcd60e51b815260206004820152602960248201527f506172616d206265696e67206d6f6469666965642069732073616d652061732060448201527f6e657720706172616d00000000000000000000000000000000000000000000006064820152608401610270565b604080513081526001600160a01b03831660208201527facbd074db1a997c1632eb3d55a4c9813e0883267f14740568d0535dc23077ce4910160405180910390a1600580547fffffffffffffffffffffffff0000000000000000000000000000000000000000166001600160a01b0392909216919091179055565b600061038282610b65565b9050806001600160a01b031663172152506040518163ffffffff1660e01b8152600401602060405180830381865afa1580156103c2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103e691906119dc565b6000036104355760405162461bcd60e51b815260206004820152601760248201527f436f6d6d69746d656e74206e6f742072657175697265640000000000000000006044820152606401610270565b600083815260016020819052604090912054106104945760405162461bcd60e51b815260206004820152601360248201527f4578697374656e7420636f6d6d69746d656e74000000000000000000000000006044820152606401610270565b806001600160a01b031663172152506040518163ffffffff1660e01b8152600401602060405180830381865afa1580156104d2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104f691906119dc565b6105009042611a24565b600093845260016020526040909320929092555050565b60008061052383610b65565b6040517fb7fc1b940000000000000000000000000000000000000000000000000000000081529091506001600160a01b0382169063b7fc1b9490610571908a908a908a908a90600401611a37565b602060405180830381865afa15801561058e573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105b291906119dc565b979650505050505050565b6003546000906001600160a01b0316331461061a5760405162461bcd60e51b815260206004820152600e60248201527f4f6e6c792052494620746f6b656e0000000000000000000000000000000000006044820152606401610270565b6080821161066a5760405162461bcd60e51b815260206004820152600c60248201527f496e76616c6964206461746100000000000000000000000000000000000000006044820152606401610270565b60006106b0600085858080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509293925050610cb49050565b90507fffffffff0000000000000000000000000000000000000000000000000000000081167f646c368100000000000000000000000000000000000000000000000000000000146107435760405162461bcd60e51b815260206004820152601160248201527f496e76616c6964207369676e61747572650000000000000000000000000000006044820152606401610270565b6000610789600486868080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509293925050610d0f9050565b905060006107d1601887878080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509293925050610d6d9050565b90506000610819603888888080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509293925050610d7f9050565b90506000610861605889898080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509293925050610d0f9050565b905060006108a9606c8a8a8080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509293925050610d0f9050565b905060006108fc60806108bc818c611a77565b8c8c8080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250929493925050610d8b9050565b905061090e8c8c8388888b8989610e4a565b5060019b9a5050505050505050505050565b600081815260016020526040812054801580159061093e5750428111155b9392505050565b60048054604051632303e6ab60e21b81526001600160a01b0380851693820193909352839290911690638c0f9aac90602401602060405180830381865afa158015610994573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906109b891906119ba565b610a045760405162461bcd60e51b815260206004820181905260248201527f506172746e6572205265676973747261723a204e6f74206120706172746e65726044820152606401610270565b60405184815233907fa16a86dce192b28e0a25d7c2075a482a185ca559c6bf11f5d9329a888e74567a9060200160405180910390a26000610a8189898080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152508b92508a91508990508888610ffb565b90508015610b5a576003546040516323b872dd60e01b8152336004820152306024820152604481018390526001600160a01b03909116906323b872dd906064016020604051808303816000875af1158015610ae0573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610b0491906119ba565b610b505760405162461bcd60e51b815260206004820152601560248201527f546f6b656e207472616e73666572206661696c656400000000000000000000006044820152606401610270565b610b5a838261159b565b505050505050505050565b60048054604051632303e6ab60e21b81526001600160a01b038481169382019390935260009290911690638c0f9aac90602401602060405180830381865afa158015610bb5573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610bd991906119ba565b610c255760405162461bcd60e51b815260206004820152600d60248201527f4e6f74206120706172746e6572000000000000000000000000000000000000006044820152606401610270565b600480546040517f14049bd90000000000000000000000000000000000000000000000000000000081526001600160a01b03858116938201939093529116906314049bd990602401602060405180830381865afa158015610c8a573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610cae9190611a8a565b92915050565b8151600090826004610cc68183611a24565b831015610d035760405162461bcd60e51b815260206004820152600b60248201526a14da1bdc9d081a5b9c1d5d60aa1b6044820152606401610270565b50505050016020015190565b8151600090826014610d218183611a24565b831015610d5e5760405162461bcd60e51b815260206004820152600b60248201526a14da1bdc9d081a5b9c1d5d60aa1b6044820152606401610270565b50505050016020015160601c90565b8151600090826020610cc68183611a24565b600061093e8383610d6d565b82516060908383610d9c8183611a24565b831015610dd95760405162461bcd60e51b815260206004820152600b60248201526a14da1bdc9d081a5b9c1d5d60aa1b6044820152606401610270565b606085158015610df457604051915060208201604052610e3e565b6040519150601f87168015602002818401018881018a8315602002848e0101015b81831015610e2d578051835260209283019201610e15565b5050888452601f01601f1916604052505b50979650505050505050565b876001600160a01b03167fa16a86dce192b28e0a25d7c2075a482a185ca559c6bf11f5d9329a888e74567a85604051610e8591815260200190565b60405180910390a26000610e9d878588888787610ffb565b90508015610b5a5780881015610ef55760405162461bcd60e51b815260206004820152601f60248201527f496e73756666696369656e7420746f6b656e73207472616e73666572726564006044820152606401610270565b610eff828261159b565b6000610f0b828a611a77565b90508015610fef576003546040517fa9059cbb0000000000000000000000000000000000000000000000000000000081526001600160a01b038c81166004830152602482018490529091169063a9059cbb906044016020604051808303816000875af1158015610f7f573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610fa391906119ba565b610fef5760405162461bcd60e51b815260206004820152601560248201527f546f6b656e207472616e73666572206661696c656400000000000000000000006044820152606401610270565b50505050505050505050565b60008061100783610b65565b6040517fbe47152e0000000000000000000000000000000000000000000000000000000081529091506001600160a01b0382169063be47152e90611051908b908990600401611af7565b60006040518083038186803b15801561106957600080fd5b505afa15801561107d573d6000803e3d6000fd5b505050506000886040516020016110949190611b19565b604051602081830303815290604052805190602001209050816001600160a01b031663172152506040518163ffffffff1660e01b8152600401602060405180830381865afa1580156110ea573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061110e91906119dc565b156111cb576040805160208082018490526bffffffffffffffffffffffff1960608c811b821684860152605484018c9052607484018b905289901b1660948301528251808303608801815260a8909201909252805191012061116f81610920565b6111bb5760405162461bcd60e51b815260206004820152601360248201527f4e6f20636f6d6d69746d656e7420666f756e64000000000000000000000000006044820152606401610270565b6000908152600160205260408120555b6002546001600160a01b031663a5b0d68c82306111ec8a6301e13380611b35565b6040517fffffffff0000000000000000000000000000000000000000000000000000000060e086901b16815260048101939093526001600160a01b0390911660248301526044820152606401600060405180830381600087803b15801561125257600080fd5b505af1158015611266573d6000803e3d6000fd5b50506006546007546040517f0178b8bf0000000000000000000000000000000000000000000000000000000081526001600160a01b039092169350630178b8bf92506112b89160040190815260200190565b602060405180830381865afa1580156112d5573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906112f99190611a8a565b6001600160a01b031663d5fa2b0060075483604051602001611325929190918252602082015260400190565b60408051601f198184030181529082905280516020909101207fffffffff0000000000000000000000000000000000000000000000000000000060e084901b16825260048201526001600160a01b0388166024820152604401600060405180830381600087803b15801561139857600080fd5b505af11580156113ac573d6000803e3d6000fd5b50506002546040517f28ed4f6c000000000000000000000000000000000000000000000000000000008152600481018590526001600160a01b038c8116602483015285945090911691506328ed4f6c90604401600060405180830381600087803b15801561141957600080fd5b505af115801561142d573d6000803e3d6000fd5b50506002546040516323b872dd60e01b81523060048201526001600160a01b038d811660248301526044820186905290911692506323b872dd9150606401600060405180830381600087803b15801561148557600080fd5b505af1158015611499573d6000803e3d6000fd5b50506002546040517f7409e4a2000000000000000000000000000000000000000000000000000000008152600481018690526001600160a01b03878116945063b7fc1b9493508e921690637409e4a290602401602060405180830381865afa158015611509573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061152d91906119dc565b8a6040518463ffffffff1660e01b815260040161154c93929190611b54565b602060405180830381865afa158015611569573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061158d91906119dc565b9a9950505050505050505050565b6005546001600160a01b03166115f35760405162461bcd60e51b815260206004820152601360248201527f466565204d616e61676572206e6f7420736574000000000000000000000000006044820152606401610270565b6003546005546040517f095ea7b30000000000000000000000000000000000000000000000000000000081526001600160a01b0391821660048201526024810184905291169063095ea7b3906044016020604051808303816000875af1158015611661573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061168591906119ba565b6116d15760405162461bcd60e51b815260206004820152601560248201527f546f6b656e20617070726f76616c206661696c656400000000000000000000006044820152606401610270565b6005546040517f47e7ef240000000000000000000000000000000000000000000000000000000081526001600160a01b03848116600483015260248201849052909116906347e7ef2490604401600060405180830381600087803b15801561173857600080fd5b505af115801561174c573d6000803e3d6000fd5b505050505050565b6001600160a01b038116811461176957600080fd5b50565b60006020828403121561177e57600080fd5b813561093e81611754565b6000806040838503121561179c57600080fd5b8235915060208301356117ae81611754565b809150509250929050565b60008083601f8401126117cb57600080fd5b50813567ffffffffffffffff8111156117e357600080fd5b6020830191508360208285010111156117fb57600080fd5b9250929050565b60008060008060006080868803121561181a57600080fd5b853567ffffffffffffffff81111561183157600080fd5b61183d888289016117b9565b9096509450506020860135925060408601359150606086013561185f81611754565b809150509295509295909350565b6000806000806060858703121561188357600080fd5b843561188e81611754565b935060208501359250604085013567ffffffffffffffff8111156118b157600080fd5b6118bd878288016117b9565b95989497509550505050565b600080600080600060a086880312156118e157600080fd5b8535945060208601356118f381611754565b93506040860135925060608601359150608086013561185f81611754565b60006020828403121561192357600080fd5b5035919050565b600080600080600080600060c0888a03121561194557600080fd5b873567ffffffffffffffff81111561195c57600080fd5b6119688a828b016117b9565b909850965050602088013561197c81611754565b94506040880135935060608801359250608088013561199a81611754565b915060a08801356119aa81611754565b8091505092959891949750929550565b6000602082840312156119cc57600080fd5b8151801515811461093e57600080fd5b6000602082840312156119ee57600080fd5b5051919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b80820180821115610cae57610cae6119f5565b606081528360608201528385608083013760006080858301015260006080601f19601f870116830101905083602083015282604083015295945050505050565b81810381811115610cae57610cae6119f5565b600060208284031215611a9c57600080fd5b815161093e81611754565b60005b83811015611ac2578181015183820152602001611aaa565b50506000910152565b60008151808452611ae3816020860160208601611aa7565b601f01601f19169290920160200192915050565b604081526000611b0a6040830185611acb565b90508260208301529392505050565b60008251611b2b818460208701611aa7565b9190910192915050565b6000816000190483118215151615611b4f57611b4f6119f5565b500290565b606081526000611b676060830186611acb565b6020830194909452506040015291905056fea26469706673582212205a01116f7945fda4e1b807b0bfb823f0cf2422d9ae5243e7fb970ce48151ce3264736f6c63430008100033"
}
