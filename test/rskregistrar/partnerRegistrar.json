{
  "abi": [
    {
      "inputs": [
        {
          "internalType": "contract IAccessControl",
          "name": "accessControl",
          "type": "address"
        },
        {
          "internalType": "contract NodeOwner",
          "name": "nodeOwner",
          "type": "address"
        },
        {
          "internalType": "contract IERC677",
          "name": "rif",
          "type": "address"
        },
        {
          "internalType": "contract IPartnerManager",
          "name": "partnerManager",
          "type": "address"
        },
        {
          "internalType": "contract RNS",
          "name": "rns",
          "type": "address"
        },
        {
          "internalType": "bytes32",
          "name": "rootNode",
          "type": "bytes32"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "sender",
          "type": "address"
        }
      ],
      "name": "OnlyHighLevelOperator",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address",
          "name": "hostContract",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "feeManagerContract",
          "type": "address"
        }
      ],
      "name": "FeeManagerChanged",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "partner",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "duration",
          "type": "uint256"
        }
      ],
      "name": "NameRegistered",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "commitment",
          "type": "bytes32"
        }
      ],
      "name": "canReveal",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "commitment",
          "type": "bytes32"
        },
        {
          "internalType": "address",
          "name": "partner",
          "type": "address"
        }
      ],
      "name": "commit",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "label",
          "type": "bytes32"
        },
        {
          "internalType": "address",
          "name": "nameOwner",
          "type": "address"
        },
        {
          "internalType": "bytes32",
          "name": "secret",
          "type": "bytes32"
        },
        {
          "internalType": "uint256",
          "name": "duration",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "addr",
          "type": "address"
        }
      ],
      "name": "makeCommitment",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "pure",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "name",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "expires",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "duration",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "partner",
          "type": "address"
        }
      ],
      "name": "price",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "name",
          "type": "string"
        },
        {
          "internalType": "address",
          "name": "nameOwner",
          "type": "address"
        },
        {
          "internalType": "bytes32",
          "name": "secret",
          "type": "bytes32"
        },
        {
          "internalType": "uint256",
          "name": "duration",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "addr",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "partner",
          "type": "address"
        }
      ],
      "name": "register",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "contract IFeeManager",
          "name": "feeManager",
          "type": "address"
        }
      ],
      "name": "setFeeManager",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "from",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "value",
          "type": "uint256"
        },
        {
          "internalType": "bytes",
          "name": "data",
          "type": "bytes"
        }
      ],
      "name": "tokenFallback",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x60806040523480156200001157600080fd5b5060405162001cc538038062001cc58339810160408190526200003491620000b4565b600080546001600160a01b03199081166001600160a01b03988916179091556002805482169688169690961790955560038054861694871694909417909355600480548516928616929092179091556006805490931693169290921790556007556200013c565b6001600160a01b0381168114620000b157600080fd5b50565b60008060008060008060c08789031215620000ce57600080fd5b8651620000db816200009b565b6020880151909650620000ee816200009b565b604088015190955062000101816200009b565b606088015190945062000114816200009b565b608088015190935062000127816200009b565b8092505060a087015190509295509295509295565b611b79806200014c6000396000f3fe608060405234801561001057600080fd5b506004361061007d5760003560e01c8063c0ee0b8a1161005b578063c0ee0b8a146100d0578063e0dfa3c8146100f3578063ed1865821461015b578063ed80c1a71461016e57600080fd5b8063472d35b9146100825780635a7461011461009757806389fce619146100aa575b600080fd5b610095610090366004611736565b610181565b005b6100956100a5366004611753565b610341565b6100bd6100b83660046117cc565b6104e1565b6040519081526020015b60405180910390f35b6100e36100de366004611837565b610587565b60405190151581526020016100c7565b6100bd610101366004611893565b604080516020808201979097526bffffffffffffffffffffffff19606096871b81168284015260548201959095526074810193909352931b90911660948201528151808203608801815260a8909101909152805191012090565b6100e36101693660046118db565b6108ea565b61009561017c3660046118f4565b61090f565b6000546040517f5a4c17ce0000000000000000000000000000000000000000000000000000000081523360048201526001600160a01b0390911690635a4c17ce90602401602060405180830381865afa1580156101e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102069190611984565b610243576040517ffb25bb600000000000000000000000000000000000000000000000000000000081523360048201526024015b60405180910390fd5b6005546001600160a01b038083169116036102c65760405162461bcd60e51b815260206004820152602960248201527f506172616d206265696e67206d6f6469666965642069732073616d652061732060448201527f6e657720706172616d0000000000000000000000000000000000000000000000606482015260840161023a565b604080513081526001600160a01b03831660208201527facbd074db1a997c1632eb3d55a4c9813e0883267f14740568d0535dc23077ce4910160405180910390a1600580547fffffffffffffffffffffffff0000000000000000000000000000000000000000166001600160a01b0392909216919091179055565b600061034c82610b2f565b9050806001600160a01b031663172152506040518163ffffffff1660e01b8152600401602060405180830381865afa15801561038c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103b091906119a6565b6000036103ff5760405162461bcd60e51b815260206004820152601760248201527f436f6d6d69746d656e74206e6f74207265717569726564000000000000000000604482015260640161023a565b6000838152600160208190526040909120541061045e5760405162461bcd60e51b815260206004820152601360248201527f4578697374656e7420636f6d6d69746d656e7400000000000000000000000000604482015260640161023a565b806001600160a01b031663172152506040518163ffffffff1660e01b8152600401602060405180830381865afa15801561049c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104c091906119a6565b6104ca90426119ee565b600093845260016020526040909320929092555050565b6000806104ed83610b2f565b6040517fb7fc1b940000000000000000000000000000000000000000000000000000000081529091506001600160a01b0382169063b7fc1b949061053b908a908a908a908a90600401611a01565b602060405180830381865afa158015610558573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061057c91906119a6565b979650505050505050565b6003546000906001600160a01b031633146105e45760405162461bcd60e51b815260206004820152600e60248201527f4f6e6c792052494620746f6b656e000000000000000000000000000000000000604482015260640161023a565b608082116106345760405162461bcd60e51b815260206004820152600c60248201527f496e76616c696420646174610000000000000000000000000000000000000000604482015260640161023a565b600061067a600085858080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509293925050610c7e9050565b90507fffffffff0000000000000000000000000000000000000000000000000000000081167f646c3681000000000000000000000000000000000000000000000000000000001461070d5760405162461bcd60e51b815260206004820152601160248201527f496e76616c6964207369676e6174757265000000000000000000000000000000604482015260640161023a565b6000610753600486868080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509293925050610cd99050565b9050600061079b601887878080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509293925050610d379050565b905060006107e3603888888080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509293925050610d499050565b9050600061082b605889898080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509293925050610cd99050565b90506000610873606c8a8a8080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509293925050610cd99050565b905060006108c66080610886818c611a41565b8c8c8080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250929493925050610d559050565b90506108d88c8c8388888b8989610e14565b5060019b9a5050505050505050505050565b60008181526001602052604081205480158015906109085750428111155b9392505050565b60048054604051632303e6ab60e21b81526001600160a01b0380851693820193909352839290911690638c0f9aac90602401602060405180830381865afa15801561095e573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906109829190611984565b6109ce5760405162461bcd60e51b815260206004820181905260248201527f506172746e6572205265676973747261723a204e6f74206120706172746e6572604482015260640161023a565b60405184815233907fa16a86dce192b28e0a25d7c2075a482a185ca559c6bf11f5d9329a888e74567a9060200160405180910390a26000610a4b89898080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152508b92508a91508990508888610fc5565b90508015610b24576003546040516323b872dd60e01b8152336004820152306024820152604481018390526001600160a01b03909116906323b872dd906064016020604051808303816000875af1158015610aaa573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610ace9190611984565b610b1a5760405162461bcd60e51b815260206004820152601560248201527f546f6b656e207472616e73666572206661696c65640000000000000000000000604482015260640161023a565b610b248382611565565b505050505050505050565b60048054604051632303e6ab60e21b81526001600160a01b038481169382019390935260009290911690638c0f9aac90602401602060405180830381865afa158015610b7f573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610ba39190611984565b610bef5760405162461bcd60e51b815260206004820152600d60248201527f4e6f74206120706172746e657200000000000000000000000000000000000000604482015260640161023a565b600480546040517f14049bd90000000000000000000000000000000000000000000000000000000081526001600160a01b03858116938201939093529116906314049bd990602401602060405180830381865afa158015610c54573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610c789190611a54565b92915050565b8151600090826004610c9081836119ee565b831015610ccd5760405162461bcd60e51b815260206004820152600b60248201526a14da1bdc9d081a5b9c1d5d60aa1b604482015260640161023a565b50505050016020015190565b8151600090826014610ceb81836119ee565b831015610d285760405162461bcd60e51b815260206004820152600b60248201526a14da1bdc9d081a5b9c1d5d60aa1b604482015260640161023a565b50505050016020015160601c90565b8151600090826020610c9081836119ee565b60006109088383610d37565b82516060908383610d6681836119ee565b831015610da35760405162461bcd60e51b815260206004820152600b60248201526a14da1bdc9d081a5b9c1d5d60aa1b604482015260640161023a565b606085158015610dbe57604051915060208201604052610e08565b6040519150601f87168015602002818401018881018a8315602002848e0101015b81831015610df7578051835260209283019201610ddf565b5050888452601f01601f1916604052505b50979650505050505050565b876001600160a01b03167fa16a86dce192b28e0a25d7c2075a482a185ca559c6bf11f5d9329a888e74567a85604051610e4f91815260200190565b60405180910390a26000610e67878588888787610fc5565b90508015610b245780881015610ebf5760405162461bcd60e51b815260206004820152601f60248201527f496e73756666696369656e7420746f6b656e73207472616e7366657272656400604482015260640161023a565b610ec98282611565565b6000610ed5828a611a41565b90508015610fb9576003546040517fa9059cbb0000000000000000000000000000000000000000000000000000000081526001600160a01b038c81166004830152602482018490529091169063a9059cbb906044016020604051808303816000875af1158015610f49573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610f6d9190611984565b610fb95760405162461bcd60e51b815260206004820152601560248201527f546f6b656e207472616e73666572206661696c65640000000000000000000000604482015260640161023a565b50505050505050505050565b600080610fd183610b2f565b6040517fbe47152e0000000000000000000000000000000000000000000000000000000081529091506001600160a01b0382169063be47152e9061101b908b908990600401611ac1565b60006040518083038186803b15801561103357600080fd5b505afa158015611047573d6000803e3d6000fd5b5050505060008860405160200161105e9190611ae3565b604051602081830303815290604052805190602001209050816001600160a01b031663172152506040518163ffffffff1660e01b8152600401602060405180830381865afa1580156110b4573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906110d891906119a6565b15611195576040805160208082018490526bffffffffffffffffffffffff1960608c811b821684860152605484018c9052607484018b905289901b1660948301528251808303608801815260a89092019092528051910120611139816108ea565b6111855760405162461bcd60e51b815260206004820152601360248201527f4e6f20636f6d6d69746d656e7420666f756e6400000000000000000000000000604482015260640161023a565b6000908152600160205260408120555b6002546001600160a01b031663a5b0d68c82306111b68a6301e13380611aff565b6040517fffffffff0000000000000000000000000000000000000000000000000000000060e086901b16815260048101939093526001600160a01b0390911660248301526044820152606401600060405180830381600087803b15801561121c57600080fd5b505af1158015611230573d6000803e3d6000fd5b50506006546007546040517f0178b8bf0000000000000000000000000000000000000000000000000000000081526001600160a01b039092169350630178b8bf92506112829160040190815260200190565b602060405180830381865afa15801561129f573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906112c39190611a54565b6001600160a01b031663d5fa2b00600754836040516020016112ef929190918252602082015260400190565b60408051601f198184030181529082905280516020909101207fffffffff0000000000000000000000000000000000000000000000000000000060e084901b16825260048201526001600160a01b0388166024820152604401600060405180830381600087803b15801561136257600080fd5b505af1158015611376573d6000803e3d6000fd5b50506002546040517f28ed4f6c000000000000000000000000000000000000000000000000000000008152600481018590526001600160a01b038c8116602483015285945090911691506328ed4f6c90604401600060405180830381600087803b1580156113e357600080fd5b505af11580156113f7573d6000803e3d6000fd5b50506002546040516323b872dd60e01b81523060048201526001600160a01b038d811660248301526044820186905290911692506323b872dd9150606401600060405180830381600087803b15801561144f57600080fd5b505af1158015611463573d6000803e3d6000fd5b50506002546040517f7409e4a2000000000000000000000000000000000000000000000000000000008152600481018690526001600160a01b03878116945063b7fc1b9493508e921690637409e4a290602401602060405180830381865afa1580156114d3573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906114f791906119a6565b8a6040518463ffffffff1660e01b815260040161151693929190611b1e565b602060405180830381865afa158015611533573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061155791906119a6565b9a9950505050505050505050565b6005546001600160a01b03166115bd5760405162461bcd60e51b815260206004820152601360248201527f466565204d616e61676572206e6f742073657400000000000000000000000000604482015260640161023a565b6003546005546040517f095ea7b30000000000000000000000000000000000000000000000000000000081526001600160a01b0391821660048201526024810184905291169063095ea7b3906044016020604051808303816000875af115801561162b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061164f9190611984565b61169b5760405162461bcd60e51b815260206004820152601560248201527f546f6b656e20617070726f76616c206661696c65640000000000000000000000604482015260640161023a565b6005546040517f47e7ef240000000000000000000000000000000000000000000000000000000081526001600160a01b03848116600483015260248201849052909116906347e7ef2490604401600060405180830381600087803b15801561170257600080fd5b505af1158015611716573d6000803e3d6000fd5b505050505050565b6001600160a01b038116811461173357600080fd5b50565b60006020828403121561174857600080fd5b81356109088161171e565b6000806040838503121561176657600080fd5b8235915060208301356117788161171e565b809150509250929050565b60008083601f84011261179557600080fd5b50813567ffffffffffffffff8111156117ad57600080fd5b6020830191508360208285010111156117c557600080fd5b9250929050565b6000806000806000608086880312156117e457600080fd5b853567ffffffffffffffff8111156117fb57600080fd5b61180788828901611783565b909650945050602086013592506040860135915060608601356118298161171e565b809150509295509295909350565b6000806000806060858703121561184d57600080fd5b84356118588161171e565b935060208501359250604085013567ffffffffffffffff81111561187b57600080fd5b61188787828801611783565b95989497509550505050565b600080600080600060a086880312156118ab57600080fd5b8535945060208601356118bd8161171e565b9350604086013592506060860135915060808601356118298161171e565b6000602082840312156118ed57600080fd5b5035919050565b600080600080600080600060c0888a03121561190f57600080fd5b873567ffffffffffffffff81111561192657600080fd5b6119328a828b01611783565b90985096505060208801356119468161171e565b9450604088013593506060880135925060808801356119648161171e565b915060a08801356119748161171e565b8091505092959891949750929550565b60006020828403121561199657600080fd5b8151801515811461090857600080fd5b6000602082840312156119b857600080fd5b5051919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b80820180821115610c7857610c786119bf565b606081528360608201528385608083013760006080858301015260006080601f19601f870116830101905083602083015282604083015295945050505050565b81810381811115610c7857610c786119bf565b600060208284031215611a6657600080fd5b81516109088161171e565b60005b83811015611a8c578181015183820152602001611a74565b50506000910152565b60008151808452611aad816020860160208601611a71565b601f01601f19169290920160200192915050565b604081526000611ad46040830185611a95565b90508260208301529392505050565b60008251611af5818460208701611a71565b9190910192915050565b6000816000190483118215151615611b1957611b196119bf565b500290565b606081526000611b316060830186611a95565b6020830194909452506040015291905056fea264697066735822122007221819d3bbecc7305106390602d18e17ba9e0886562cf4e8cdb9a7defc817664736f6c63430008100033"
}
